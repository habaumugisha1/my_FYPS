{% extends 'base.html' %}

{% block content %}

<h3>Welcome in department of {{departments.department_name}}</h3>
<a href="{% url 'create_project_store' %}" class="btn btn-success" style="margin-left: 50%; margin-top:-8px">publish project</a>
<a href="{% url 'register_students' %}" class="btn btn-secondary" style="margin-left: 70%; margin-top:-8px">register students here</a>
<a href="{% url 'register_staff' %}" class="btn btn-secondary"
  style="margin-left: 85%; margin-top:-70px">register staff here</a>

  
<div class="card-deck mt-3 ml-3 mr-3">
  <div class="card ml-0 mr-0">
    <div class="card-body">
      <h5 class="card-title text-align-centre"> <span class="badge badge-warning" style="border-radius: 50%; margin-bottom: 0px; margin-right: -5px;">{{countsup}}</span> Supervisors</h5>

      <table class="table table-striped table-dark">
        <thead>
          <tr>
            <th scope="col">No</th>
            <th scope="col">Names</th>
          </tr>
        </thead>
        <tbody>
                {% for supervisor in supervisors %}
          <tr>
            <th scope="row">{{supervisor.id}}</th>
            <td>
                <h5 class="card-title">{{ supervisor.supervisor_name }} </h5>                        
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table><br>
      <a href="{% url 'addsupervisor' %}" class="btn btn-info btn-sm">Add supervisor</a>

    </div>
  </div>

  <div class="card">
    <div class="card-body">
      <h5 class="card-title"> <span class="badge badge-secondary"
        style="border-radius: 50%; margin-bottom: 0px; margin-right: -1px;">{{countgro}}</span>Groups</h5>
      <table class="table">
            <thead class="thead-dark">
              <tr>
                <th scope="col">No</th>
                <th scope="col">Group Names</th>
              </tr>
            </thead>
            <tbody>
              {% for group in groups %}
              <tr>
                <th scope="row">{{group.id}}</th>
                <td> <a href="{%url 'single_group' group.pk %}" class="btn btn-link">{{group.group_name}} </a></td>
              </tr>
              {% endfor %} 
            </tbody>
          </table><br>
              <a href="{% url 'add_group' %}" class="btn btn-secondary">Add Group</a>   
    </div>
  </div>
  <div class="card">
    <div class="card-body">
      <h5 class="card-title"> <span class="badge badge-success"
        style="border-radius: 50%; margin-bottom: 0px; margin-right: -1px;">{{countpro}}</span>Projects</h5>

      <table class="table table-bordered">
            <thead>
              <tr>
                <th scope="col">No</th>
                <th scope="col">Projects name</th>
                <th scope="col">Aprove project</th>
                <th scope="col"> Reject Project</th>
              </tr>
            </thead>
            <tbody>
                {% for project in projects %}
              <tr>
                <th scope="row">{{project.id}}</th>

                <th scope="row">{{ project.project_title }}
                  
                  <!-- Button trigger modal -->
                <button type="button" class="btn btn-link" data-toggle="modal" data-target="#exampleModal">
                    More
                  </button>
                  
                  <!-- Modal -->
                  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title" id="exampleModalLabel">Project details</h5>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">
                            <h5 class="card-title">{{group.group_name}}</h5>
                            <p class="cards_text">
                              Project : {{ project.project_title }}<br>
                              Description : {{ project.project_description }}<br>
                            
                            </p>
                          </div>
                      </div>
                    </div>
                  </div>
                
                </td>
                <td><button type="button" class="btn btn-success btn-sm">Aprove</button></td>
                <td><button type="button" class="btn btn-danger btn-sm">Reject</button></td>
              </tr>
              {% endfor %}
            </tbody>
          </table><br>
          <a href="{% url 'addProject' %}" class="btn btn-info btn-sm">Add Projects</a>
      
    </div>
  </div>
</div>


    <!-- <div class="card col-sm-6 ml-4 mt-3">
      <div class="card-body">
          
              
                        <div class="card" style="width: 30rem;"> 
                      
                         <div class="card-body">
                           {{usered}} 
                              
                          </div> 
                </div><br>
          </div>  -->
 
      <!-- </div>
           {% for project in projects %}
                <div class="col-md-4">
                    <div class="card mb-2">
                        
                        <div class="card-body">
                            <h5 class="card-title">{{ project.project_title }} </h5>
                            <p class="card-text">{{ project.project_description }}</p>
                            
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}

            {% for supervisor in supervisors %}
                <div class="col-md-4">
                    <div class="card mb-2">
                        
                        <div class="card-body">
                            <h5 class="card-title">{{ supervisor.supervisor_name }} </h5>
                            <p class="card-text">{{ supervisor.supervisor_email }}</p>
                            
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %} -->

            {% endblock %}